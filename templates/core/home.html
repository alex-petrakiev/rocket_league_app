{% extends 'base.html' %}

{% block content %}
<div class="hero-section">
    <h1 class="display-4 fw-bold mb-4">Welcome to Rocket League Hub</h1>
    <p class="lead">The ultimate community for Rocket League players!</p>
    {% if not user.is_authenticated %}
        <a href="{% url 'accounts:register' %}" class="btn btn-primary btn-lg">Join Now</a>
    {% endif %}
</div>

<div class="row mt-5">
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <h2>üé¨</h2>
                <h5>Share Clips</h5>
                <p>Upload your best gameplay moments</p>
                <a href="{% url 'clips:list' %}" class="btn btn-primary btn-sm">View Clips</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'clips:upload' %}" class="btn btn-outline-primary btn-sm mt-1">Upload Clip</a>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <h2>üèÜ</h2>
                <h5>Join Tournaments</h5>
                <p>Compete with other players</p>
                <a href="{% url 'tournaments:list' %}" class="btn btn-primary btn-sm">View Tournaments</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'tournaments:create' %}" class="btn btn-outline-primary btn-sm mt-1">Create Tournament</a>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <h2>üí¨</h2>
                <h5>Forum Discussions</h5>
                <p>Share tips and strategies</p>
                <a href="{% url 'forum:list' %}" class="btn btn-primary btn-sm">Browse Forum</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'forum:create' %}" class="btn btn-outline-primary btn-sm mt-1">New Post</a>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <h2>‚≠ê</h2>
                <h5>Rate & Review</h5>
                <p>Give feedback to other players</p>
                <a href="{% url 'clips:list' %}" class="btn btn-primary btn-sm">Rate Clips</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'accounts:profile' %}" class="btn btn-outline-primary btn-sm mt-1">Your Profile</a>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% if user.is_authenticated %}
<div class="row mt-5">
    <div class="col-12">
        <h3>Welcome back, {{ user.username }}! üëã</h3>
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <h6>Your Rocket League Profile</h6>
                        <p><strong>Rank:</strong> {{ user.userprofile.current_rank|title }}</p>
                        <p><strong>Hours Played:</strong> {{ user.userprofile.hours_played }}</p>
                    </div>
                    <div class="col-md-4">
                        <h6>Quick Stats</h6>
                        <p><strong>Your Clips:</strong> {{ user.clip_set.count }}</p>
                        <p><strong>Tournaments Joined:</strong> {{ user.tournaments.count }}</p>
                    </div>
                    <div class="col-md-4">
                        <h6>Community Activity</h6>
                        <p><strong>Forum Posts:</strong> {{ user.forumpost_set.count }}</p>
                        <p><strong>Ratings Given:</strong> {{ user.rating_set.count }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<div class="row mt-5">
    <div class="col-12">
        <h3>Latest Activity</h3>
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h6>Recent Clips</h6>
                    </div>
                    <div class="card-body">
                        <!-- You can add logic here to show recent clips -->
                        <p class="text-muted">Latest clips from the community will appear here.</p>
                        <a href="{% url 'clips:list' %}" class="btn btn-sm btn-outline-primary">View All Clips</a>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h6>Upcoming Tournaments</h6>
                    </div>
                    <div class="card-body">
                        <!-- You can add logic here to show upcoming tournaments -->
                        <p class="text-muted">Upcoming tournaments will appear here.</p>
                        <a href="{% url 'tournaments:list' %}" class="btn btn-sm btn-outline-primary">View All Tournaments</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}